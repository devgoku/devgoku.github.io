{"version":3,"sources":["views/Dashboard/Search.js","views/Dashboard/Dashboard.js","containers/DefaultLayout/DefaultLayout.js"],"names":["search","props","react_default","a","createElement","Row","className","Col","md","CardGroup","Card","CardBody","Form","InputGroup","Input","type","placeholder","onChange","changes","disabled","Dashboard","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onSearchHandler","event","setState","loading","searchText","target","value","state","searchPopulation","planetData","searchData","axios","get","then","res","data","results","filter","planet","name","sort","b","population","searchPlanets","localStorage","getItem","searchCount","limitExceeded","canSearch","resetLimit","length","catch","err","console","log","timer","setInterval","tick","setTimeout","countDown","clearInterval","history","push","list","ListGroupItem","map","index","style","fontSize","key","color","Container","Search","ListGroup","Component","DefaultFooter","React","lazy","__webpack_require__","e","bind","DefaultHeader","Promise","all","DefaultLayout","preventDefault","removeItem","_this2","es","fixed","react","fallback","onLogout","signOut","fluid","react_router","path","component","from","to"],"mappings":"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","file":"static/js/9.4cf5e54f.chunk.js","sourcesContent":["import React from \"react\";\r\n//import axios from \"axios\";\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardGroup,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  InputGroup\r\n} from \"reactstrap\";\r\n\r\nconst search = (props) => { \r\n    return (\r\n      <Row className=\"justify-content-center\">\r\n        <Col md=\"8\">\r\n          <CardGroup>\r\n            <Card className=\"p-4\">\r\n              <CardBody>\r\n                <Form>\r\n                  <h1>Search Planet</h1>\r\n                  <InputGroup className=\"mb-3\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      placeholder=\"Search planet by name\"\r\n                      onChange ={props.changes}\r\n                      disabled = {props.disabled}\r\n                      />\r\n                  </InputGroup>\r\n                </Form>\r\n              </CardBody>\r\n            </Card>\r\n          </CardGroup>\r\n        </Col>\r\n      </Row>\r\n    );\r\n}\r\n\r\nexport default search;\r\n","import React, { Component } from \"react\";\r\nimport { Container, Row, Col, ListGroup, ListGroupItem } from \"reactstrap\";\r\nimport Search from \"./Search\";\r\nimport axios from \"axios\";\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      planetData: null,\r\n      searchText: null,\r\n      loading: false,\r\n      searchCount: 0,\r\n      limitExceeded: false,\r\n      canSearch: null,\r\n      countDown: 59,\r\n      disabled:false\r\n    };\r\n   //   this.onSearchHandler = this.onSearchHandler.bind(this);\r\n  }\r\n\r\n\r\n  onSearchHandler= (event) => {\r\n    this.setState({loading: true, searchText: event.target.value }, () => {\r\n    //  console.log(this.state.loading);\r\n      if (this.state.searchText) {       \r\n        this.searchPopulation(this.state.searchText);\r\n      } else {\r\n        this.setState({ loading: false, planetData: null });\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount(){\r\n    if (localStorage.getItem(\"user_logged_in\") !== \"true\") {\r\n      this.props.history.push(\"/login\");\r\n    }\r\n  }\r\n \r\n  searchPopulation = (searchData) => {\r\n  \r\n    return axios\r\n      .get(\"https://swapi.co/api/planets/\")\r\n      .then(res => {\r\n         return res.data.results\r\n          .filter((planet) => {\r\n            if (planet.name.search(searchData) > -1) {\r\n              return planet;\r\n            } \r\n            return false;\r\n          })\r\n          .sort((a, b) => {\r\n            return a.population - b.population;\r\n          })\r\n      }).then(searchPlanets => {\r\n       // console.log(searchPlanets);\r\n        if(localStorage.getItem('username') !== 'Luke Skywalker'){\r\n          this.setState({\r\n              searchCount: this.state.searchCount + 1\r\n           },()=>{\r\n            if(this.state.searchCount > 3){\r\n              this.setState({\r\n                limitExceeded : true, \r\n                disabled:true, \r\n                loading: false, \r\n                canSearch: 'You can search 15 times in a minute.' \r\n              }, () => {\r\n                this.resetLimit();  \r\n              });  \r\n               return\r\n            }\r\n           });\r\n         }\r\n        if (searchPlanets.length > 0) {\r\n          this.setState({ loading: false, planetData: searchPlanets });\r\n        } else {\r\n          this.setState({ loading: false, planetData: null });\r\n        }\r\n      }).catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  resetLimit = () => {\r\n   this.timer =  setInterval(() => this.tick(),1000);\r\n      setTimeout(\r\n        () => {\r\n          this.setState({\r\n            searchCount: 0, \r\n            limitExceeded: false,\r\n            canSearch: 'You can search again',\r\n            disabled:false,\r\n            countDown:59\r\n          },()=>{\r\n            //console.log('clear....');\r\n            clearInterval(this.timer);\r\n          });\r\n        },1000 * 60)\r\n  }\r\n  \r\n  tick = () => {\r\n    this.setState({\r\n      countDown: this.state.countDown - 1\r\n    });\r\n  }\r\n\r\ncomponentWillUnmount(){\r\n  clearInterval(this.timer);\r\n}\r\n\r\n  render() {\r\n    \r\n   let list = <ListGroupItem>No Planet</ListGroupItem>;\r\n\r\n    if (this.state.planetData) {\r\n      list = this.state.planetData.map((planet,index) => {\r\n        return (\r\n          <ListGroupItem style={{fontSize: ( index * 2 ) + 12 +'px' }} key={planet.name}>\r\n            {planet.name} : {planet.population}\r\n          </ListGroupItem>\r\n        );\r\n      });\r\n    } \r\n\r\n    if(this.state.loading){\r\n        list =  <div className=\"animated fadeIn pt-1 text-center\"> Loading... </div>\r\n        \r\n    }\r\n    console.log('when Check '+this.state.searchCount);\r\n    if(this.state.searchCount > 15 && localStorage.getItem('username') !== 'Luke Skywalker')\r\n    {\r\n      \r\n      list = <div className=\"animated fadeIn pt-1 text-center\" style={{color:'red'}}> {this.state.canSearch} Time Left: {this.state.countDown}</div>\r\n    }\r\n\r\n    if(this.state.searchCount === 0 && localStorage.getItem('username') !== 'Luke Skywalker')\r\n    {\r\n      list = <div className=\"animated fadeIn pt-1 text-center\" style={{color:'green'}}> {this.state.canSearch}  </div>\r\n    }\r\n\r\n\r\n    return (\r\n      <Container>\r\n        <Search changes={this.onSearchHandler} disabled={this.state.disabled} />\r\n        <Row className=\"justify-content-center\">\r\n        <Col md=\"8\">\r\n            <ListGroup>\r\n              {list}\r\n            </ListGroup>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component, Suspense } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { Container } from \"reactstrap\";\r\nimport Dashboard from \"../../views/Dashboard/Dashboard\";\r\nimport { AppFooter, AppHeader } from \"@coreui/react\";\r\n\r\nconst DefaultFooter = React.lazy(() => import(\"./DefaultFooter\"));\r\nconst DefaultHeader = React.lazy(() => import(\"./DefaultHeader\"));\r\n\r\nclass DefaultLayout extends Component {\r\n  loading = () => (\r\n    <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\r\n  );\r\n\r\n  signOut(e) {\r\n    e.preventDefault();\r\n    localStorage.removeItem(\"user_logged_in\");\r\n    localStorage.removeItem(\"username\");\r\n    this.props.history.push(\"/login\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <AppHeader fixed>\r\n          <Suspense fallback={this.loading()}>\r\n            <DefaultHeader onLogout={e => this.signOut(e)} />\r\n          </Suspense>\r\n        </AppHeader>\r\n        <div className=\"app-body\">\r\n          <main className=\"main\">\r\n            <Container fluid>\r\n              <Suspense fallback={this.loading()}>\r\n                <Route path=\"\" name=\"/dashboard\" component={Dashboard} />\r\n                <Redirect from=\"/\" to=\"/dashboard\" />\r\n              </Suspense>\r\n            </Container>\r\n          </main>\r\n        </div>\r\n        <AppFooter>\r\n          <Suspense fallback={this.loading()}>\r\n            <DefaultFooter />\r\n          </Suspense>\r\n        </AppFooter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DefaultLayout;\r\n"],"sourceRoot":""}